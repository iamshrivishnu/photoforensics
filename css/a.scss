// some colors
$bg: linear-gradient(91deg, #063274, #002357);
$c-wave: lighten(#004dfd, 3%);

// wave sizes
$s-wave-1: 2.5vmin;
$s-wave-2: 5.5vmin;
$s-wave-3: 8.5vmin;

// rotation times
$t-wave-1: 20s;
$t-wave-2: 30s;
$t-wave-3: 25s;

// time and size of grow animation
$t-grow: 7s;
$growth: 0.07;

// blob shape
$blob-a1: 42% 58% 54% 46% / 59% 58% 42% 41%;
$blob-a2: 43% 57% 34% 66% / 57% 39% 61% 43%;
$blob-a3: 59% 41% 44% 56% / 45% 54% 46% 55%;

// other blob shape
$blob-b1: 87% 62% 74% 64% / 60% 74% 62% 76%;
$blob-b2: 52% 84% 74% 64% / 68% 58% 75% 54%;
$blob-b3: 66% 59% 66% 71% / 53% 72% 65% 79%;

@mixin posAbs($size) {
  $size: -1 * $size;
  position: absolute;
  top: $size;
  right: $size;
  bottom: $size;
  left: $size;
}

.container {
  height: 175vh;
  overflow: hidden;
}

.header {
  height: 100vh;
  background: $bg;
  position: relative;
}

.waves {
  $size: 75vmin;
  height: $size;
  width: $size;
  position: absolute;
  bottom: -10vmin;
  right: -3vmin;

  img {
    @include posAbs(0);
    width: 100%;
    height: 100%;
    border-radius: 50%;
  }

  .wave-1,
  .wave-2,
  .wave-3 {
    &:before {
      transition: border-radius 1s ease;
    }
  }

  .wave-1 {
    @include posAbs($s-wave-1);

    &:before {
      content: "";
      @include posAbs(0);
      background: $c-wave;
      border-radius: $blob-a1;
    }
  }

  .wave-2 {
    @include posAbs($s-wave-2);

    &:before {
      content: "";
      @include posAbs(0);
      background: rgba($c-wave, 0.6);
      border-radius: $blob-a2;
    }
  }

  .wave-3 {
    @include posAbs($s-wave-3);

    &:before {
      content: "";
      @include posAbs(0);
      background: rgba($c-wave, 0.2);
      border-radius: $blob-a3;
    }
  }

  &.round {
    .wave-1,
    .wave-2,
    .wave-3 {
      &:before {
        border-radius: 50%;
      }
    }
  }

  &.other {
    .wave-1:before {
      border-radius: $blob-b1;
    }
    .wave-2:before {
      border-radius: $blob-b2;
    }
    .wave-3:before {
      border-radius: $blob-b3;
    }
  }

  &.rotate {
    .wave-1:before {
      animation: rotate $t-wave-1 linear infinite;
    }

    .wave-2:before {
      animation: rotate $t-wave-2 linear reverse infinite;
    }

    .wave-3:before {
      animation: rotate $t-wave-3 linear infinite;
    }
  }

  &.grow {
    .wave-1,
    .wave-2,
    .wave-3 {
      animation: grow $t-grow ease-in-out infinite;
    }

    .wave-1 {
      animation-delay: -3/5 * $t-grow;
    }
    .wave-2 {
      animation-delay: -2/5 * $t-grow;
    }
    .wave-3 {
      animation-delay: -1/5 * $t-grow;
    }
  }
}

@keyframes rotate {
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
}

@keyframes grow {
  0%,
  3%,
  100% {
    transform: scale(0.99);
  }
  50% {
    transform: scale(1 + $growth);
  }
}

// Wave options styles and stuff
.options {
  padding: 30px 45px;
  background: #f0f0f0;
  position: absolute;
  border-radius: 3px;
  top: 25px;
  left: 25px;

  h2 {
    margin-top: 0;
    text-align: center;
    text-decoration: underline;
  }

  h3 {
    margin: 0;
  }

  hr {
    margin: 15px -5px;
  }

  > label {
    display: block;
    margin: 5px 0 5px 20px;
  }
}

// Stupid meme shit
.waves.rotate.grow:after {
  content: "";
  @include posAbs(0);
  border-radius: 50%;
  background-image: url("https://i.kym-cdn.com/photos/images/original/000/244/457/793.gif");
  background-size: cover;
  background-position: center;
}
